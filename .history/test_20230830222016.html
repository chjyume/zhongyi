<!DOCTYPE html>
<html>

<head>
  <style>
  #text-container {
  font-size: 18px;
  border-bottom: 1px solid #ccc;
  position: relative;
  cursor: pointer;
}

#text-container::after {
  content: "";
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 20px;
  height: 20px;
  background-color: #ffffff;
  border-left: 3px solid #ff0000;
  border-bottom: 3px solid #000000;
  animation: triangle-animation 1s infinite;
  opacity: 0;
  visibility: hidden;
}

@keyframes triangle-animation {
  0% {
    transform: translateX(-50%) rotate(0deg);
  }
  50% {
    transform: translateX(-50%) rotate(180deg);
  }
  100% {
    transform: translateX(-50%) rotate(360deg);
  }
}

  </style>
</head>

<body>
  <div id="text-container">这是一段文字内容。</div>


  <script>
    var isAnimating = false;
      var textContainer = document.getElementById('text-container');

      textContainer.addEventListener('click', function () {
        if (!isAnimating) {
          isAnimating = true;
          loadText();
        }
      });

      function loadText() {
        var text = textContainer.innerHTML;
        textContainer.innerHTML = '';

        // 将文本拆分为逐字加载的数组
        var textArray = text.split('');

        var i = 0;
        var timer = setInterval(function () {
          textContainer.innerHTML += textArray[i];
          i++;

          // 判断是否加载完所有文字
          if (i === textArray.length) {
            clearInterval(timer);
            showTriangle();
          }
        }, 100);
      }

      function showTriangle() {
        var triangle = textContainer.querySelector("::after");
        triangle.style.visibility = 'visible';
        triangle.style.opacity = '1';
        isAnimating = false;
      }

  </script>
</body>

</html>