<!DOCTYPE html>
<html>
	<head>
        <meta charset="utf-8" />
		<title>帮我针灸</title>

        <link href="css\zhenjiu.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" type="text/css" href="family\font.css">
        <link rel="stylesheet" type="text/css" href="css/return.css">
	</head>
	<style>
	
        body {
            background-image: url("img/jiu1.png");
            background-repeat: no-repeat;
            background-size: cover;
            position: absolute;
            left: 0;
            top: 0;
        }
        #pulse {
    width: 45%;
    height: 44%;
    position: fixed;
    top: calc(60%);
    left: calc(55%);
    z-index: 1;
    transform: rotatex(28deg);
}

#zhongyi{
    width: 80%;
    height: 130%;
    position: fixed;
    top: calc(10%);
    left: calc(-20%);
    z-index: 1;
    display: none; /* 初始状态隐藏中医图案 */
}

#zhen {
    width: 20%;
    height: 20%;
    position: fixed;
    top: calc(20%);
    left: calc(70%);
    z-index: 2;
}

#target {
    position: absolute;
    width: 220px;
    height: 200px;
    margin: 450px 0 0 1200px; /* 调整边框位置，向右下移动 */
    z-index: 2;
}

#target img {
    width: 200px;
    height: 150px;
    margin: 10px; /* 调整图片与边框的距离 */
}

.hidden {
    display: none;
}

@keyframes bounce {
    0%, 100% { transform: translateY(-30px); }
    25%, 75% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

.bubble {
    position: absolute;
    max-width: 300px;
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    animation: bounce 1s 2;
    margin-top: 250px;
}

.left {
    position: relative;
    top: 60%;
    left: calc(180%);
    background-color: #f6f6f6;
    z-index: 5;
}

.left::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -8px;
    margin-top: -4px;
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-right: 8px solid #f6f6f6;
    
}
    
.right {
    position: relative;
    top: 150%;
    left: calc(320%);
    background-color: #e2f5fe;
    z-index: 6;
}

.right::before {
    content: "";
    position: absolute;
    top: 50%;
    right: -8px;
    margin-top: -4px;
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-left: 8px solid #e2f5fe;
}

.bubble.right::after {
    content: "";
    position: absolute;
    top: 50%;
    right: -8px;
    margin-top: -4px;
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-left: 8px solid #f6f6f6;
}
#bubble4 {
    top: calc(75%);
    left: calc(150%);
}
#bubble3 {
    top: calc(65%);
    left: calc(250%);
}
#bubble2 {
    top: calc(75%);
    left: calc(150%);
}
#bubble1 {
    top: calc(65%);
    left: calc(300%);
}
#tip {
    position: absolute;
    top: 200px;
    left: 1075%;
    border: 1px solid rgb(228, 195, 255);
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    background-color: rgb(255, 247, 183);
    color: black;
    padding: 10px;
    border-radius: 10px;
    font-family: Arial, sans-serif;
    font-size: 30px;
    writing-mode: horizontal-tb; /* 将文字方向调整为默认的横向显示 */
    white-space: nowrap;
    display: none;
  }


		
	</style>
	<body onload="showTip()" onmousemove="hideTip()">

        <button class="return-button">
            <img src="img/return.png" alt="返回" class="return-image" onclick="window.location.href='/shouye.html'">
          </button>
        <img id="pulse" src="img/zhenjiu2.png">
    <div id="target" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    <img id="zhen" src="img/zhenjiu3.png" draggable="true" ondragstart="drag(event)" style="cursor: pointer;" ondragend="showBubbleAndImage()">
    <img id="zhongyi" src="img/zhongyi.png">
    <script>
        showBubbleAndImage();
    </script>
    <div id="bubble1" class="bubble right hidden" onclick="showSecondBubble()" style="font-size: large;">
        <p class="mb-0">啊，还没开始扎针吗？</p>
    </div>
    <div id="bubble2" class="bubble left hidden" onclick="showThirdBubble()" style="font-size: large;z-index: 7;">
        <p class="mb-0">先生，刚刚你都睡一个小时了</p>
    </div>
    
    
    <div id="bubble3" class="bubble right hidden" onclick="showFourthBubble()" style="font-size: large;">
        <p class="mb-0">哇偶，真的不痛欸，没想到我居然可以在这么窄的床上睡着了</p>
    </div>
    <div id="bubble4" class="bubble left hidden" style="font-size: large;" onclick="goToNextPage()">
        <p class="mb-0">可以期待第二个项目了</p>
    </div>
    
      <div id="tip">请帮我针灸！</div>
	</body>
    
	<script>
        function allowDrop(event) {
    event.preventDefault();
    event.target.classList.add("dragging-over"); /* 添加拖放过程中的样式 */
}

function drag(event) {
    event.dataTransfer.setData("text", event.target.id);
}

function drop(event) {
    event.preventDefault();
    event.target.classList.remove("dragging-over"); /* 移除拖放过程中的样式 */

    var data = event.dataTransfer.getData("text");

    // 隐藏原位置的图片
    var originalImage = document.getElementById(data);
    originalImage.classList.add("hidden");

    // 在目标区域创建一个新的图片元素，并设置其属性
    var img = document.createElement("img");
    img.src = originalImage.src;

    // 将新的图片元素添加到目标区域中
    event.target.appendChild(img);
    
    // 显示中医图案
    var zhongyiImg = document.getElementById("zhongyi");
    zhongyiImg.style.display = "block";
    // 隐藏tip
  var tip = document.getElementById("tip");
  tip.style.display = "none";
}
function showTip() {
  var tip = document.getElementById("tip");
  tip.style.display = "none";
  setTimeout(function() {
    tip.style.display = "block";
  }, 1000); // 1秒后显示tip
}

  
  

function showBubbleAndImage() {
    var bubble1 = document.getElementById("bubble1"); // 获取第一个气泡
    var zhongyiImg = document.getElementById("zhongyi"); // 获取中医图案的img元素

    bubble1.classList.remove("hidden"); // 移除隐藏类名，显示第一个气泡
    zhongyiImg.style.display = "block"; // 显示"zhongyi.png"
}

function showSecondBubble() {
    var bubble1 = document.getElementById("bubble1"); // 获取第一个气泡
    var bubble2 = document.getElementById("bubble2"); // 获取第二个气泡

    bubble1.classList.add("hidden"); // 添加隐藏类名，隐藏第一个气泡
    bubble2.classList.remove("hidden"); // 移除隐藏类名，显示第二个气泡
}

function showThirdBubble() {
    var bubble2 = document.getElementById("bubble2"); // 获取第二个气泡
    var bubble3 = document.getElementById("bubble3"); // 获取第三个气泡

    bubble2.classList.add("hidden"); // 添加隐藏类名，隐藏第二个气泡
    bubble3.classList.remove("hidden"); // 移除隐藏类名，显示第三个气泡
}

function showFourthBubble() {
    var bubble3 = document.getElementById("bubble3"); // 获取第三个气泡
    var bubble4 = document.getElementById("bubble4"); // 获取第四个气泡

    bubble3.classList.add("hidden"); // 添加隐藏类名，隐藏第三个气泡
    bubble4.classList.remove("hidden"); // 移除隐藏类名，显示第四个气泡
}
        function goToNextPage() {
    window.location.href = "下一个页面的URL";
}
    </script>
</html>
